# 28	Panedwindow小控件
panedwindow控件是在Tk8.4中引入的，它可以在大小可调的水平或垂直窗格中显示控件。  panedwindow可以包含任意数量的水平或垂直排列的窗格。每一个窗格包含一个控件，并且每一对窗格由一个可移动的隔档分开，它可以使用隔档两边的控件大小可调。当panedwindow被外部改变大小时—如，当用户调节包含panedwindow的顶层—控件中的最后（最右或最底）窗格的空间就会增加或缩减。## 28.1	使用Panedwindow
panedwindow是一个相对简单的控件，多数情况下需要很少的配置和编程。最常用配置属是orient，它用来确定控件是有垂直还是水平排列的窗格。其它常用的配置属性是showHandle。这个小手柄是在隔档上画的一个小方块，用来暗示用户隔档是交互式的。showHandle默认在windows是false的以与其本来的观感相适应。大多数其它配置属性一般用来控制大小、位置和手柄、隔档、控件的外观。
### 28.1.1	操控窗格的内容
一旦你创建了panedwindow，你就可以用add命令向其中加入控件了。你可以使用一个add操作增加多个控件。panedwindow显示加到其中以隔档分开的窗格中的控件。默认情况下，控件以加入的顺序进行排列。然而，你可以通过用-after和-before选项在当前管理的控件前或后面插入来重置这个行为。你也可以像其它布局管理器一样用-padx和-pady选项增加水平和垂直方向上的填料。-minisize属性允许你指定所管理的控件的最小尺寸（以Tk所支持的任意屏幕单元）。你也可以用-sticky属性来控制控件在窗格中的位置，其操作方式类似grid的-sticky属性。panedwindow的默认-sticky设置是nsew以使管理的控件大小在两个方向上完全填充其窗格。  **在panedwindow中不要pack、grid或place控件**  一个panedwindow控件并不只是一个装其它控件的容器，它也是一个布局管理器。它控制其管理的控件的大小和位置。也就是说，不要使用pack、grid或place命令来控件你加到panedwindow中的控件。  当然，对于更复杂的界面，你可以增加框架作为panedwindow的控件，然后pack、grid或place其它控件于框架中。作为例子，考虑有两个文本控件的布局。我们想每一个文本控件都有水平和垂直滚动条，这是grid的一般应用。但是我们想要整个布局是由两个垂直排列的窗格的组成的panedwindow。在此例中，我们使用标签框架控件来装格状排列的文本-滚动条组合，然后，把每一个标签框架作为一个我们的panedwindow所管理的控件。结果示于例28-1。### 28.1.2	例28-1一个组合复杂控件的panedwindow``` # Create the panedwindow to manage the entire display
panedwindow .p -orient vertical -showhandle 1pack .p -expand yes -fill both# Create 2 labelframe widgets, each containing a# gridded text and scrollbar assembly.foreach {w label} {code "Code:" notes "Notes:"} {   set f [labelframe .p.$w -text $label]   text $f.t -height 10 -width 40 \      -wrap none -font {courier 12} \      -xscrollcommand [list $f.xbar set] \      -yscrollcommand [list $f.ybar set]   scrollbar $f.xbar -orient horizontal \      -command [list $f.t xview]   scrollbar $f.ybar -orient vertical \      -command [list $f.t yview]   grid $f.t -row 0 -column 0 -sticky news -padx 2 -pady 2   grid $f.ybar -row 0 -column 1 -sticky ns -padx 2 -pady 2   grid $f.xbar -row 1 -column 0 -sticky ew -padx 2 -pady 2   grid columnconfigure $f 0 -weight 1   grid rowconfigure $f 0 -weight 1   # Add the frame assembly to the panedwindow   .p add $f -minsize 1i -padx 4 -pady 6}```
forget操作从panedwindow移除控件。控件并没有被销毁，但是它们不再被窗格窗口所管理，且它们先前占用的窗格也从panedwindow中移除。当然你也可以使用panes操作得到panedwindow当前所管理的控件列表（以它们出现的顺序）   	**创建作为panedwindow子控件的管理控件。**  为了得到最好的结果，就得将panedwindow管理的控件创建为此panedwindow的子控件。Tk会自动处理窗口的堆叠次序以便子控件出现在panedwindow的上面。如果你没有将管理的控件创建为panedwindow的子控件，你就需要在panedwindow创建后创建它们或用raise命令来将管理控件升到panedwindow的上面，正如第409页中“窗口堆叠顺序”所讨论的那样。
## 28.2	Panedwindow编程
表28-1总结了panedwindow编程的操作。表中的$w是一个panedwindow，win是一个由此panedwindow所管理的控件。  
Table 28-1. Panedwindow 的操作  
command      		| explain
-------------------| --------------------$w add win ?win...? ?option value...?	|加一个或多个控件到panedwindow中，每一个都在一个单独的控件中，选项如表28-2所示$w cget option					| 	返回如表28-3所示的配置选项的值。$w configure ?option value...?	| 以表28-3中所示选项设置或修改panedwindow 的配置$w forget win ?win...?			| 	从panedwindow中移除包含控件的窗格.$w identify x y					|	识别在指定点下面的panedwindow组件（component）。$w panecget win option			|	返回如表28-2中所示的控件配置项的值。$w paneconfigure index ?option? ?value? ?...?	|	查询或修改表28-2中所示的控件的配置。$w panes					|	返回由panedwindow管理的控件的有序列表。$w proxy coord				|	返回橡皮式窗格大小调节所用的隔档代理（sash proxy）的当前x和y坐标对。$w proxy forget				|	从显示上移除隔档代理$w proxy place x y			|	在指定坐标放置隔档代理$w sash coord index			|	返回由索引所指的隔档的当前x和y坐标对。$w sash dragto index x y	|	将隔档从前一个标记位置移走。$w sash mark index x y		|	开始一个隔档的移动操作。索引是要移动的隔档的，x和y是与控件相关的屏幕坐标$w sash place index x y		|	放置指定的隔档于给定的位置。表28-2总结了panedwindow管理控件的所有选项。这些都是用add操作增加控件到窗格中或paneconfigure操作所设置的。当前设置由panecget操作返回。  
Table 28-2. Panedwindow 管理控件的操作  
command      		| explain
-------------------| ---------------------after win		|	在指定的win后面插入控件。-before win		|	在指定的win前面插入控件。-height size	|	控件的高度，包括其边界，以屏幕单元为单位。实际上控件的高度会以基于-sitcky设置panedwindow的大小调节和隔档的移动而变化。-minsize size	|	在窗格维度上控件的最小尺寸，以屏幕单元指定。-padx size		|	以屏幕单元为单位，X方向上控件的外部材料-pady size		|	以屏幕单元为单位，Y方向上控件的外部材料-sticky how		|	以窗格的北(n)、南(s)、西(w)、东(e)方向的任意组合停靠控件用{}表示居中。如果指定了相反的方向（如，ns），则控件会拉伸并填满这些方向默认为: nsew.-width size		|	控件的宽度，包括其边界，以屏幕单元为单位。实际上控件的高度会由于-sitcky设置panedwindow的大小调节和隔档的移动而变化。
## 28.3	Panedwindow属性表28-3列出了panedwindow控件的所有属性。表中使用了属性的资源名字，它在内部单词边界中用大写字母。在Tcl命令中这些选项用一个破折号和所有小写表示。
Table 28-3. Panedwindow attributes
command      		| explain
-------------------| --------------------background	|	背景颜色 (也作 bg).borderWidth	|	以屏幕单元为单位，控件边缘周围的额外空间。cursor		|	当鼠标在控件上面时要显示的光标。handlePad	|	当绘制隔档手柄时以屏幕单元为单位，到隔档的左或上边（依赖于方向）末尾的距离。handleSize	|	隔档手柄的大小，以屏幕单元为单位。手柄总是画成方块形的。height		|	控件的高度，以屏幕单元为单位。opaqueResize	|	布尔值。为真时表示当隔档移动时窗格尺寸便调节。为假时表示调节延迟直到隔档放置好后。orient		|	horizontal 或 verticalrelief		|	扁平flat, 凹陷的sunken, 凸起的, 浮雕的raised, 凹槽groove, 固定的solid, 或脊状ridge.sashCursor	|	在隔档上显示的光标。默认为双箭头。sashPad		|	在隔档两边都填料。sashRelief	|	隔档的浮雕效果：扁平flat, 凹陷的sunken, 凸起的, 浮雕的raised（默认）, 凹槽groove, 固定的solid, 或脊状ridge.sashWidth	|	每一个隔档的宽度，以屏幕单元为单位。showHandle	|	布尔值,是否显示隔档手柄。默认在Windows是关，其它平台上是开width		|	控件的宽度，以屏幕单元为单位。